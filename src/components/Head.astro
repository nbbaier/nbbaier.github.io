---
import { siteConfig, websiteSchema } from "@/site.config";
import { MetaTags } from "@codemint/astro-meta";

import "@/styles/global.css";

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
console.log(canonicalURL.toString());
---

<head>
   <MetaTags
      title={siteConfig.title}
      description={siteConfig.description}
      canonicalUrl={canonicalURL.toString()}
      openGraph={{
         type: "website",
         title: siteConfig.title, // this will need to change for different pages
         image: { url: "" },
         url: canonicalURL.toString(),
         siteName: siteConfig.title,
         locale: siteConfig.ogLocale,
         description: siteConfig.description,
      }}
      twitter={{
         type: "summary",
         site: "@nbbaier",
         title: siteConfig.title,
         description: siteConfig.description,
      }}
   />

   <link href="mailto:nico.baier@gmail.com" rel="me" />
   <link href="https://github.com/nbbaier" rel="me" />
   <link rel="authorization_endpoint" href="https://indieauth.com/auth" />
   <link rel="token_endpoint" href="https://tokens.indieauth.com/token" />
   <link rel="micropub" href="https://micropub.nicobaier.com/" />

   <link rel="preconnect" href="https://fonts.googleapis.com" />
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
   <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
   />

   <script
      is:inline
      defer
      data-site-id="nicobaier.com"
      src="https://assets.onedollarstats.com/tracker.js"></script>

   <script type="application/ld+json" set:html={websiteSchema} is:inline />
</head>
