---
import { cn } from "@/lib/utils/cn";

export interface Props {
   to: string;
   underline?: boolean;
   title?: string;
   class?: string;
}

const { to, title, class: className, underline } = Astro.props;

const underlineClass = underline ? "text-red-100" : "";

let html = "";
if (Astro.slots.has("default")) {
   html = await Astro.slots.render("default");
}
---

<a
   class={cn(
      className,
      "no-underline cursor-pointer relative transition-[clip-path] duration-[225ms] ease-[ease]"
   )}
   href={to}
   target="_blank"
   rel="noopener noreferrer"
   ><span
      class="relative inline-block text-link-base before:absolute before:content-[attr(data-content)] before:text-link-hover before:underline before:decoration-link-hover before:decoration-1 before:underline-offset-[2px] before:decoration-wavy before:transition-[clip-path] before:duration-[225ms] before:ease-[ease]"
      data-content={title || html}
   >
      <Fragment set:html={html} />
   </span></a
>

<style>
   a:hover span::before,
   a:focus span::before {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
   }

   a span::before {
      clip-path: polygon(50% 0, 50% 0, 50% 100%, 50% 100%);
   }
</style>
